<!DOCTYPE html>
<html>
<head>
<title>upload file</title>
</head>
<body>
	
<script src="https://weizhenwei.github.io/demoPage/ast/escodegen.browser.2.0.0.js"></script>
	 <!--
<script src="https://weizhenwei.github.io/demoPage/ast/estraverse.browser.5.2.0.js"></script>
<script src="https://weizhenwei.github.io/demoPage/ast/esprima.browser.4.0.1.js"></script>
	  -->
<div>
 <!--
 <img
      style="width: 200px;height:200px;border-radius: 100%"
      src="https://img2018.cnblogs.com/blog/1195302/201811/1195302-20181128163006342-890300325.jpg"/>
  -->
  <img id="src_img" style="width: 400px; height:300px; border-radius:10%; border:solid 1px red;"/>
</div>

<input type="file" id="input" style="margin-top:40px; margin-bottom:40px;"/ >
	
<div>
 <!--
 <img="src_img" 
      style="width: 200px;height:200px;border-radius: 100%"
      src="https://img2018.cnblogs.com/blog/1195302/201811/1195302-20181128163006342-890300325.jpg"/>

  <img id="dst_img" style="width: 400px; height:300px; border-radius:10%; border:solid 1px red;"/>
	  -->
</div>

<script type="text/javascript">
window.onload = function() {
  //const esprima = require('esprima');
  //const estraverse = require('estraverse');
  const escodegen = require('escodegen');

  let sourceJS = "var a = 1; console.log(a); import('https://weizhenwei.github.io/demoPage/test.js');";

  console.log("sourceJS:", sourceJS);

  let ast = esprima.parseScript(sourceJS, {
        jsx: false,
        range: false,
        loc: false,
        tolerant: true,
        tokens: false,
        comment: false
    })

  console.log("esprima ast:", ast);

  estraverse.replace(ast, {
    leave(node, parent) {
    }
  });
  console.log("estraverse ast:", ast);

  let sourceOutput = escodegen.generate(ast, {
        format: escodegen.FORMAT_MINIFY
  });

  console.log("escodegen output:", sourceOutput);
}

</script>
</body>
</html>
